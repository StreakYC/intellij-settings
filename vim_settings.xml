<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/spanner/GlobalThread.java" timestamp="1547147334435">
        <mark key="[" line="80" column="0" />
        <mark key="]" line="82" column="9" />
        <mark key="." line="80" column="0" />
        <mark key="^" line="64" column="36" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/gmailThreads.json" timestamp="1547075202051">
        <mark key="[" line="77" column="0" />
        <mark key="]" line="77" column="0" />
        <mark key="." line="77" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/Messages.java" timestamp="1546897677607">
        <mark key="[" line="19" column="15" />
        <mark key="]" line="19" column="52" />
        <mark key="^" line="19" column="52" />
        <mark key="." line="19" column="52" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/spanner/Message.java" timestamp="1547151140644">
        <mark key="[" line="285" column="80" />
        <mark key="]" line="283" column="31" />
        <mark key="." line="283" column="31" />
        <mark key="^" line="283" column="31" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/FixtureTest.java" timestamp="1547077797494">
        <mark key="[" line="34" column="58" />
        <mark key="]" line="34" column="59" />
        <mark key="." line="34" column="59" />
        <mark key="^" line="27" column="33" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" timestamp="1547147381123">
        <mark key="[" line="132" column="0" />
        <mark key="]" line="132" column="0" />
        <mark key="." line="132" column="0" />
        <mark key="^" line="131" column="83" />
      </file>
      <file name="/a.dummy" timestamp="1546017967805">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="0" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/streak/bigtable/SpannerBigtable.java" timestamp="1546035315005">
        <mark key="[" line="74" column="48" />
        <mark key="]" line="75" column="8" />
        <mark key="." line="75" column="8" />
        <mark key="^" line="75" column="8" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/dataaccess/DAO.java" timestamp="1546904365657">
        <mark key="[" line="2488" column="0" />
        <mark key="]" line="2836" column="88" />
        <mark key="." line="2836" column="88" />
        <mark key="^" line="2836" column="88" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/DatastoreTest.java" timestamp="1546629452870">
        <mark key="[" line="44" column="46" />
        <mark key="]" line="44" column="46" />
        <mark key="." line="44" column="46" />
        <mark key="^" line="44" column="50" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/Users.java" timestamp="1546560499362">
        <mark key="[" line="37" column="45" />
        <mark key="]" line="37" column="45" />
        <mark key="." line="37" column="45" />
        <mark key="^" line="68" column="13" />
      </file>
      <file name="$MAVEN_REPOSITORY$/org/testng/testng/6.9.10/testng-6.9.10-sources.jar!/org/testng/annotations/Test.java" timestamp="1547151871553" />
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/dataupdaters/getters/BigtableEnvelopesGetter.java" timestamp="1547074042612">
        <mark key="[" line="49" column="16" />
        <mark key="]" line="49" column="58" />
        <mark key="." line="49" column="58" />
        <mark key="^" line="49" column="58" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/streak/bigtable/BigtableGraphFanOutProcessor.java" timestamp="1547151952350">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="416" column="0" />
        <mark key="." line="416" column="0" />
        <mark key="^" line="416" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessEngineRemoteTest.java" timestamp="1546558050454">
        <mark key="[" line="141" column="0" />
        <mark key="]" line="141" column="0" />
        <mark key="." line="141" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/streak/ratchet/RatchetUnitTests.java" timestamp="1546983479639">
        <mark key="[" line="53" column="99" />
        <mark key="]" line="50" column="84" />
        <mark key="^" line="50" column="84" />
        <mark key="." line="50" column="84" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/dataaccess/Spanner.java" timestamp="1547083197737">
        <mark key="[" line="55" column="0" />
        <mark key="]" line="55" column="0" />
        <mark key="." line="55" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/CleanDatabases.java" timestamp="1547085530993">
        <mark key="[" line="19" column="27" />
        <mark key="]" line="15" column="0" />
        <mark key="^" line="29" column="33" />
        <mark key="." line="15" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/workflows.json" timestamp="1547074711111">
        <mark key="[" line="133" column="20" />
        <mark key="]" line="133" column="20" />
        <mark key="^" line="133" column="22" />
        <mark key="." line="133" column="20" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/cases.json" timestamp="1547075039781">
        <mark key="[" line="121" column="13" />
        <mark key="]" line="121" column="13" />
        <mark key="." line="121" column="13" />
        <mark key="^" line="121" column="15" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" timestamp="1547151890944">
        <mark key="'" line="19" column="8" />
        <mark key="[" line="348" column="9" />
        <mark key="]" line="348" column="0" />
        <mark key="." line="348" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/spanner/MessageMailbox.java" timestamp="1545863031867">
        <mark key="[" line="10" column="75" />
        <mark key="]" line="25" column="0" />
        <mark key="^" line="25" column="0" />
        <mark key="." line="25" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/helpers/FixtureLoader.java" timestamp="1547075298137">
        <mark key="[" line="39" column="0" />
        <mark key="]" line="39" column="0" />
        <mark key="." line="39" column="0" />
      </file>
      <file name="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/teams.json" timestamp="1547075545327">
        <mark key="[" line="90" column="20" />
        <mark key="]" line="90" column="20" />
        <mark key="." line="90" column="20" />
        <mark key="^" line="90" column="21" />
      </file>
      <file name="/fragment.java" timestamp="1547083153643">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="0" />
        <mark key="." line="0" column="0" />
      </file>
    </filemarks>
    <jumps>
      <jump line="48" column="16" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterSettingsDeserializer.java" />
      <jump line="41" column="23" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" />
      <jump line="52" column="54" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" />
      <jump line="53" column="25" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" />
      <jump line="55" column="62" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" />
      <jump line="74" column="98" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" />
      <jump line="95" column="70" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" />
      <jump line="169" column="65" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/ThreadInfos.java" />
      <jump line="452" column="8" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/dataupdaters/DataWorkerFactory.java" />
      <jump line="277" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/emailmanager/SpannerTest.java" />
      <jump line="11" column="196" filename="$USER_HOME$/src/MailFoo/curls" />
      <jump line="276" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/emailmanager/SpannerTest.java" />
      <jump line="7746" column="22" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/basicUISettings.json" />
      <jump line="1459" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/basicUISettings.json" />
      <jump line="0" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/basicUISettings.json" />
      <jump line="85" column="85" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="461" column="19" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="1319" column="19" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="1792" column="35" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="17" column="24" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="4" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/ComparisonOperation.java" />
      <jump line="117" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="87" column="21" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="93" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="99" column="35" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="103" column="16" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="107" column="16" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="115" column="16" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="6257" column="21" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="6407" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="6621" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="6799" column="16" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="6967" column="18" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="7144" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="7309" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="7473" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="123" column="9" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="277" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="1449" column="40" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="0" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="7518" column="57" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="337" column="26" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="7492" column="45" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="3" column="13" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="31" column="16" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/ColumnKey.java" />
      <jump line="48" column="54" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/UISettingsTest.java" />
      <jump line="80" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/UISettingsTest.java" />
      <jump line="234" column="32" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="97" column="197" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/api/APIV2EndpointManager.java" />
      <jump line="73" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/handlers/DeleteEntity.java" />
      <jump line="0" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/handlers/DeleteEntity.java" />
      <jump line="13" column="28" filename="$USER_HOME$/src/MailFoo/IntegrationTests/src/test/java/com/rewardly/integrationtests/api/modeltests/SnippetPermissionViewAssignedAPITest.java" />
      <jump line="206" column="13" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/imap/MailMergeTask.java" />
      <jump line="281" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/imap/MailMergeTask.java" />
      <jump line="289" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/imap/MailMergeTask.java" />
      <jump line="11" column="38" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/imap/MailMergeTask.java" />
      <jump line="14" column="50" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/imap/MailMergeTask.java" />
      <jump line="275" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/imap/MailMergeTask.java" />
      <jump line="80" column="42" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="67" column="16" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/FilterCondition.java" />
      <jump line="32" column="23" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/deserializers/FilterConditionDeserializer.java" />
      <jump line="35" column="8" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/nondatastore/uiSettings/deserializers/FilterConditionDeserializer.java" />
      <jump line="79" column="41" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/largeUISettings.json" />
      <jump line="31" column="82" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/messageaccessengine/models/User.java" />
      <jump line="0" column="52" filename="/fragment.java" />
      <jump line="71" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/dataupdaters/getters/EnvelopesGetter.java" />
      <jump line="227" column="33" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessEngineTest.java" />
      <jump line="75" column="48" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/utils/jwt/JWTGetToken.java" />
      <jump line="130" column="11" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/messageaccessengine/graph/MessageVisibilityGraph.java" />
      <jump line="116" column="71" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/MessageGrant.java" />
      <jump line="103" column="18" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/datamodel/MessageGrant.java" />
      <jump line="7" column="8" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/Messages.json" />
      <jump line="15" column="12" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/Messages.json" />
      <jump line="80" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="81" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="82" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="83" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="84" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="85" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="86" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="87" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/unittests/MessageAccessIntegrationTests.java" />
      <jump line="10" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="126" column="37" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="129" column="32" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="124" column="29" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="743" column="20" filename="$USER_HOME$/src/MailFoo/ServerCommon/pom.xml" />
      <jump line="283" column="28" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/workflows.json" />
      <jump line="43" column="21" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/workflows.json" />
      <jump line="246" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/workflows.json" />
      <jump line="65" column="6" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/workflows.json" />
      <jump line="67" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/workflows.json" />
      <jump line="7" column="51" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/resources/fixtures/cases.json" />
      <jump line="175" column="20" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/messageaccessengine/graph/MessageVisibilityGraph.java" />
      <jump line="62" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/rewardly/mailfoo/domains/Envelopes.java" />
      <jump line="233" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="369" column="29" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="375" column="8" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="381" column="8" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/test/java/com/rewardly/mailfoo/integration/ITMessageAccess.java" />
      <jump line="48" column="50" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/streak/bigtable/BigtableGraphFanOutProcessor.java" />
      <jump line="0" column="0" filename="$USER_HOME$/src/MailFoo/ServerCommon/src/main/java/com/streak/bigtable/BigtableGraphFanOutProcessor.java" />
    </jumps>
    <registers>
      <register name="&quot;" type="2">
        <text encoding="base64">cGFja2FnZSBjb20uc3RyZWFrLmJpZ3RhYmxlOwoKaW1wb3J0IGNvbS5nb29nbGUuYmlndGFibGUudjIuQmlndGFibGVHcnBjLkJpZ3RhYmxlU3R1YjsKaW1wb3J0IGNvbS5nb29nbGUuYmlndGFibGUudjIuUmVhZFJvd3NSZXF1ZXN0OwppbXBvcnQgY29tLmdvb2dsZS5iaWd0YWJsZS52Mi5SZWFkUm93c1Jlc3BvbnNlOwppbXBvcnQgY29tLmdvb2dsZS5iaWd0YWJsZS52Mi5SZWFkUm93c1Jlc3BvbnNlLkNlbGxDaHVuazsKaW1wb3J0IGNvbS5nb29nbGUuYmlndGFibGUudjIuUm93RmlsdGVyOwppbXBvcnQgY29tLmdvb2dsZS5iaWd0YWJsZS52Mi5Sb3dGaWx0ZXIuQ2hhaW47CmltcG9ydCBjb20uZ29vZ2xlLmJpZ3RhYmxlLnYyLlJvd1NldDsKaW1wb3J0IGNvbS5nb29nbGUuY29tbW9uLmNvbGxlY3QuTGlzdHM7CmltcG9ydCBjb20uZ29vZ2xlLnByb3RvYnVmLkJ5dGVTdHJpbmc7CmltcG9ydCBjb20uZ29vZ2xlY29kZS5vYmplY3RpZnkuS2V5OwppbXBvcnQgY29tLnJld2FyZGx5Lm1haWxmb28uZGF0YWFjY2Vzcy5jYWNoaW5nLkJpZ3RhYmxlQ2FjaGU7CmltcG9ydCBjb20ucmV3YXJkbHkubWFpbGZvby5kYXRhbW9kZWwuR21haWxUaHJlYWQ7CmltcG9ydCBjb20ucmV3YXJkbHkubWFpbGZvby5kYXRhbW9kZWwubm9uZGF0YXN0b3JlLkdtYWlsQXBpVGhyZWFkSWRlbnRpZmllcjsKaW1wb3J0IGNvbS5yZXdhcmRseS5tYWlsZm9vLnNwYW5uZXJjYWNoZS5GdWxsTWVzc2FnZTsKaW1wb3J0IGNvbS5yZXdhcmRseS5tYWlsZm9vLnNwYW5uZXJjYWNoZS5NYWlsYm94Um93S2V5OwppbXBvcnQgY29tLnJld2FyZGx5Lm1haWxmb28uc3Bhbm5lcmNhY2hlLk1lc3NhZ2VSb3dLZXk7CmltcG9ydCBjb20ucmV3YXJkbHkubWFpbGZvby5zcGFubmVyY2FjaGUuUmZjTWVzc2FnZUlkUm93S2V5OwppbXBvcnQgY29tLnJld2FyZGx5Lm1haWxmb28uc3Bhbm5lcmNhY2hlLlRocmVhZFJvd0tleTsKaW1wb3J0IGNvbS5zdHJlYWsuYmlndGFibGUuU3Bhbm5lckJpZ3RhYmxlLk1lc3NhZ2VJbmRleEluZm87CmltcG9ydCBpby5ncnBjLnN0dWIuU3RyZWFtT2JzZXJ2ZXI7CmltcG9ydCBvcmcueGVyaWFsLnNuYXBweS5TbmFwcHk7CgppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLlNldDsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvbXBsZXRhYmxlRnV0dXJlOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuYXRvbWljLkF0b21pY0ludGVnZXI7CmltcG9ydCBqYXZhLnV0aWwuZnVuY3Rpb24uQmlDb25zdW1lcjsKCi8vIEZhbnMgb3V0IHRvIGFsbCBpbmRleCBlbnRyaWVzIGluIHRoZSB1bmlmaWVkIHRocmVhZCwgcG9zc2libHkgZmV0Y2hpbmcgRnVsbE1lc3NhZ2VzIGFzIHdlbGwKcHVibGljIGNsYXNzIEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgewoJcHVibGljIGNsYXNzIEluZGV4Q29uc3VtZXIgaW1wbGVtZW50cyBCaUNvbnN1bWVyPFNldDxNZXNzYWdlSW5kZXhJbmZvPiwgVGhyb3dhYmxlPiB7CgkJLy8gRG9lcyBhIHN0ZXAgb2YgdGhlIGZhbm91dCwga2VlcGluZyB0cmFjayBvZiBob3cgbWFueSBzdGVwcyBhcmUgY3VycmVudGx5CgkJLy8gaW4tcHJvY2VzcwoJCUBPdmVycmlkZQoJCXB1YmxpYyB2b2lkIGFjY2VwdChTZXQ8TWVzc2FnZUluZGV4SW5mbz4gbmV3SW5mb3MsIFRocm93YWJsZSB0KSB7CgkJCWlmICh0ICE9IG51bGwpIHsKCQkJCXQucHJpbnRTdGFja1RyYWNlKCk7CgkJCQlmaW5hbENmLmNvbXBsZXRlRXhjZXB0aW9uYWxseSh0KTsKCQkJCXJldHVybjsKCQkJfQoJCQlzeW5jaHJvbml6ZWQgKHByb2Nlc3NlZEluZm9zKSB7CgkJCQkvLyBEb24ndCByZXByb2Nlc3MgZXhpc3RpbmcgaW5mb3MKCQkJCW5ld0luZm9zLnJlbW92ZUFsbChwcm9jZXNzZWRJbmZvcyk7CgkJCQlwcm9jZXNzZWRJbmZvcy5hZGRBbGwobmV3SW5mb3MpO2dnVgoKCQkJCWlmIChyZXRyaWV2ZUZ1bGxNZXNzYWdlcyAmJiAhbmV3SW5mb3MuaXNFbXB0eSgpKSB7CgkJCQkJZm9yIChMaXN0PE1lc3NhZ2VJbmRleEluZm8+IGluZm9zIDogTGlzdHMucGFydGl0aW9uKG5ldyBBcnJheUxpc3Q8PihuZXdJbmZvcyksIDEwMDApKSB7CgkJCQkJCXN0ZXBzQ3VycmVudGx5UnVubmluZy5pbmNyZW1lbnRBbmRHZXQoKTsKCQkJCQkJZmV0Y2hGdWxsTWVzc2FnZXMoYnRTdHViLCBpbmZvcykKCQkJCQkJCS53aGVuQ29tcGxldGUoKG1lc3NhZ2VzLCB0MikgLT4gewoJCQkJCQkJCWlmICh0MiAhPSBudWxsKSB7CgkJCQkJCQkJCXQyLnByaW50U3RhY2tUcmFjZSgpOwoJCQkJCQkJCQlmaW5hbENmLmNvbXBsZXRlRXhjZXB0aW9uYWxseSh0Mik7CgkJCQkJCQkJCXJldHVybjsKCQkJCQkJCQl9CgoJCQkJCQkJCWZ1bGxNZXNzYWdlcy5hZGRBbGwobWVzc2FnZXMpOwoKCQkJCQkJCQk7CgkJCQkJCQkJaWYgKHN0ZXBzQ3VycmVudGx5UnVubmluZy5kZWNyZW1lbnRBbmRHZXQoKSA9PSAwKSB7CgkJCQkJCQkJCVN5c3RlbS5vdXQucHJpbnRsbigiRG9uZSAiICsgKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnRUaW1lKSArICIgbXMiKTsKCQkJCQkJCQkJZmluYWxDZi5jb21wbGV0ZShudWxsKTsKCQkJCQkJCQl9CgkJCQkJCQl9KTsKCQkJCQl9CgkJCQl9CgoJCQkJTGlzdDxCeXRlU3RyaW5nPiByZmNNZXNzYWdlSWRIYXNoZXNUb1Byb2Nlc3MgPSBuZXcgQXJyYXlMaXN0PD4oKTsKCQkJCUxpc3Q8R21haWxBcGlUaHJlYWRJZGVudGlmaWVyPiB0aHJlYWRJZHNUb1Byb2Nlc3MgPSBuZXcgQXJyYXlMaXN0PD4oKTsKCQkJCWZvciAoTWVzc2FnZUluZGV4SW5mbyBpbmZvIDogbmV3SW5mb3MpIHsKCQkJCQkvLyBEb24ndCByZXByb2Nlc3MgZXhpc3RpbmcgUkZDIG1lc3NhZ2UgSURzCgkJCQkJaWYgKCFwcm9jZXNzZWRSZmNNZXNzYWdlSWRIYXNoZXMuY29udGFpbnMoaW5mby5nZXRSZmNNZXNzYWdlSWRIYXNoKCkpKSB7CgkJCQkJCXByb2Nlc3NlZFJmY01lc3NhZ2VJZEhhc2hlcy5hZGQoaW5mby5nZXRSZmNNZXNzYWdlSWRIYXNoKCkpOwoJCQkJCQlyZmNNZXNzYWdlSWRIYXNoZXNUb1Byb2Nlc3MuYWRkKGluZm8uZ2V0UmZjTWVzc2FnZUlkSGFzaCgpKTsKCQkJCQl9CgkJCQkJaWYgKCFwcm9jZXNzZWRUaHJlYWRJZHMuY29udGFpbnMoaW5mby5nZXRUaHJlYWRJZGVudGlmaWVyKCkuYXNLZXkoKSkpIHsKCQkJCQkJcHJvY2Vzc2VkVGhyZWFkSWRzLmFkZChpbmZvLmdldFRocmVhZElkZW50aWZpZXIoKS5hc0tleSgpKTsKCQkJCQkJdGhyZWFkSWRzVG9Qcm9jZXNzLmFkZChpbmZvLmdldFRocmVhZElkZW50aWZpZXIoKSk7CgkJCQkJfQoJCQkJfQoKCQkJCWlmICghdGhyZWFkSWRzVG9Qcm9jZXNzLmlzRW1wdHkoKSkgewoJCQkJCWZvciAoTGlzdDxHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IHRocmVhZElkc0JhdGNoOiBMaXN0cy5wYXJ0aXRpb24odGhyZWFkSWRzVG9Qcm9jZXNzLCAxMDAwKSkgewoJCQkJCQlzdGVwc0N1cnJlbnRseVJ1bm5pbmcuZ2V0QW5kQWRkKDIpOwoJCQkJCQlmaW5kQ29ubmVjdGVkQnlUaHJlYWRJZHMoYnRTdHViLCBpblNjb3BlR2lkcywgdGhyZWFkSWRzQmF0Y2gpCgkJCQkJCQkud2hlbkNvbXBsZXRlKHRoaXMpOwoJCQkJCQlmaW5kR21haWxUaHJlYWRLZXlzQnlUaHJlYWRJZHMoYnRTdHViLCB0aHJlYWRJZHNCYXRjaCkKCQkJCQkJCS53aGVuQ29tcGxldGUoQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3Nvci50aGlzLmdtYWlsVGhyZWFkS2V5Q29uc3VtZXIpOwoJCQkJCX0KCQkJCX0KCgkJCQlpZiAoIXJmY01lc3NhZ2VJZEhhc2hlc1RvUHJvY2Vzcy5pc0VtcHR5KCkpIHsKCQkJCQlmb3IgKExpc3Q8Qnl0ZVN0cmluZz4gcmZjQmF0Y2ggOiBMaXN0cy5wYXJ0aXRpb24ocmZjTWVzc2FnZUlkSGFzaGVzVG9Qcm9jZXNzLCAxMDAwKSkgewoJCQkJCQlzdGVwc0N1cnJlbnRseVJ1bm5pbmcuaW5jcmVtZW50QW5kR2V0KCk7CgkJCQkJCWZpbmRDb25uZWN0ZWRCeVJmY01lc3NhZ2VJZEhhc2goYnRTdHViLCBpblNjb3BlR2lkcywgcmZjQmF0Y2gpCgkJCQkJCQkud2hlbkNvbXBsZXRlKHRoaXMpOwoJCQkJCX0KCQkJCX0KCQkJCTsKCQkJCWlmIChzdGVwc0N1cnJlbnRseVJ1bm5pbmcuZGVjcmVtZW50QW5kR2V0KCkgPT0gMCkgewoJCQkJCVN5c3RlbS5vdXQucHJpbnRsbigiRG9uZSAiICsgKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnRUaW1lKSArICIgbXMiKTsKCQkJCQlmaW5hbENmLmNvbXBsZXRlKG51bGwpOwoJCQkJfQoJCQl9CgkJfQoJfQoKCXB1YmxpYyBjbGFzcyBHbWFpbFRocmVhZEtleUNvbnN1bWVyIGltcGxlbWVudHMgQmlDb25zdW1lcjxTZXQ8S2V5PEdtYWlsVGhyZWFkPj4sIFRocm93YWJsZT4gewoJCUBPdmVycmlkZQoJCXB1YmxpYyB2b2lkIGFjY2VwdChTZXQ8S2V5PEdtYWlsVGhyZWFkPj4ga2V5cywgVGhyb3dhYmxlIHQpIHsKCQkJaWYgKHQgIT0gbnVsbCkgewoJCQkJdC5wcmludFN0YWNrVHJhY2UoKTsKCQkJCWZpbmFsQ2YuY29tcGxldGVFeGNlcHRpb25hbGx5KHQpOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQlwcm9jZXNzZWRHbWFpbFRocmVhZEtleXMuYWRkQWxsKGtleXMpOwoJCQlzdGVwc0N1cnJlbnRseVJ1bm5pbmcuZGVjcmVtZW50QW5kR2V0KCk7CgkJfQoJfQoKCXByaXZhdGUgZmluYWwgSW5kZXhDb25zdW1lciBpbmRleENvbnN1bWVyID0gbmV3IEluZGV4Q29uc3VtZXIoKTsKCXByaXZhdGUgZmluYWwgR21haWxUaHJlYWRLZXlDb25zdW1lciBnbWFpbFRocmVhZEtleUNvbnN1bWVyID0gbmV3IEdtYWlsVGhyZWFkS2V5Q29uc3VtZXIoKTsKCglwdWJsaWMgZmluYWwgSGFzaFNldDxNZXNzYWdlSW5kZXhJbmZvPiBwcm9jZXNzZWRJbmZvcyA9IG5ldyBIYXNoU2V0PD4oKTsKCXB1YmxpYyBmaW5hbCBIYXNoU2V0PEJ5dGVTdHJpbmc+IHByb2Nlc3NlZFJmY01lc3NhZ2VJZEhhc2hlcyA9IG5ldyBIYXNoU2V0PD4oKTsKCXB1YmxpYyBmaW5hbCBIYXNoU2V0PFN0cmluZz4gcHJvY2Vzc2VkVGhyZWFkSWRzID0gbmV3IEhhc2hTZXQ8PigpOwoJcHVibGljIGZpbmFsIEhhc2hTZXQ8RnVsbE1lc3NhZ2U+IGZ1bGxNZXNzYWdlcyA9IG5ldyBIYXNoU2V0PD4oKTsKCXB1YmxpYyBmaW5hbCBIYXNoU2V0PEtleTxHbWFpbFRocmVhZD4+IHByb2Nlc3NlZEdtYWlsVGhyZWFkS2V5cyA9IG5ldyBIYXNoU2V0PD4oKTsKCgkvLyBDb3VudCBvZiBob3cgbWFueSBpbmRleCByZXF1ZXN0cyBhcmUgY3VycmVudGx5IG91dHN0YW5kaW5nCgkvLyBTdGFydCBhdCAxIGJlY2F1c2Ugd2UgY29tcGxldGUgdGhlIHN0ZXAgZm9yIGluaXRpYWwgYWNjZXB0KCkKCXByaXZhdGUgQXRvbWljSW50ZWdlciBzdGVwc0N1cnJlbnRseVJ1bm5pbmcgPSBuZXcgQXRvbWljSW50ZWdlcigxKTsKCglwcml2YXRlIGZpbmFsIEJpZ3RhYmxlU3R1YiBidFN0dWI7Cglwcml2YXRlIGZpbmFsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzOwoJcHJpdmF0ZSBmaW5hbCBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmOwoJcHJpdmF0ZSBmaW5hbCBib29sZWFuIHJldHJpZXZlRnVsbE1lc3NhZ2VzOwoJcHJpdmF0ZSBmaW5hbCBsb25nIHN0YXJ0VGltZTsKCgkvLyBOb3RlOiBJZiB1c2luZyB0aGUgY29uc3RydWN0b3IgZGlyZWN0bHksIHlvdSBtdXN0IGNhbGwgYWNjZXB0KCkgd2l0aCBhbiBpbml0aWFsIHNldCBvZiBNZXNzYWdlSW5kZXhJbmZvcwoJLy8gdG8gc3RhcnQKCXB1YmxpYyBCaWd0YWJsZUdyYXBoRmFuT3V0UHJvY2Vzc29yKEJpZ3RhYmxlU3R1YiBidFN0dWIsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzLCBib29sZWFuIHJldHJpZXZlRnVsbE1lc3NhZ2VzLCBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmKSB7CgkJdGhpcy5idFN0dWIgPSBidFN0dWI7CgkJdGhpcy5pblNjb3BlR2lkcyA9IGluU2NvcGVHaWRzOwoJCXRoaXMuZmluYWxDZiA9IGZpbmFsQ2Y7CgkJc3RhcnRUaW1lID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7CgkJdGhpcy5yZXRyaWV2ZUZ1bGxNZXNzYWdlcyA9IHJldHJpZXZlRnVsbE1lc3NhZ2VzOwoJfQoKCXB1YmxpYyBzdGF0aWMgQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvciBjcmVhdGVGcm9tTWFpbGJveERvbWFpbnMoQmlndGFibGVTdHViIGJ0U3R1YiwgU2V0PFN0cmluZz4gaW5TY29wZUdpZHMsIExpc3Q8U3RyaW5nPiBtYWlsYm94RG9tYWlucywgQ29tcGxldGFibGVGdXR1cmU8Vm9pZD4gZmluYWxDZikgewoJCUJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgcHJvY2Vzc29yID0gbmV3IEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IoYnRTdHViLCBpblNjb3BlR2lkcywgdHJ1ZSwgZmluYWxDZik7CgkJZmluZENvbm5lY3RlZEJ5TWFpbGJveEZhbWlseShidFN0dWIsIGluU2NvcGVHaWRzLCBTcGFubmVyQmlndGFibGUuTUVTU0FHRV9NQUlMQk9YRVNfQllfTUFJTEJPWF9ET01BSU5fRkFNSUxZLCBtYWlsYm94RG9tYWlucykKCQkJLndoZW5Db21wbGV0ZShwcm9jZXNzb3IuaW5kZXhDb25zdW1lcik7CgkJcmV0dXJuIHByb2Nlc3NvcjsKCX0KCglwdWJsaWMgc3RhdGljIEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgY3JlYXRlRnJvbU1haWxib3hFbWFpbHMoQmlndGFibGVTdHViIGJ0U3R1YiwgU2V0PFN0cmluZz4gaW5TY29wZUdpZHMsIExpc3Q8U3RyaW5nPiBtYWlsYm94RW1haWxzLCBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmKSB7CgkJQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvciBwcm9jZXNzb3IgPSBuZXcgQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvcihidFN0dWIsIGluU2NvcGVHaWRzLCB0cnVlLCBmaW5hbENmKTsKCQlmaW5kQ29ubmVjdGVkQnlNYWlsYm94RmFtaWx5KGJ0U3R1YiwgaW5TY29wZUdpZHMsIFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFX01BSUxCT1hFU19CWV9NQUlMQk9YX0VNQUlMX0ZBTUlMWSwgbWFpbGJveEVtYWlscykKCQkJLndoZW5Db21wbGV0ZShwcm9jZXNzb3IuaW5kZXhDb25zdW1lcik7CgkJcmV0dXJuIHByb2Nlc3NvcjsKCX0KCglwdWJsaWMgc3RhdGljIEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgY3JlYXRlRnJvbVRocmVhZElkcyhCaWd0YWJsZVN0dWIgYnRTdHViLAoJCQkJCQkJCQkJCQkJCQkJICAgU2V0PFN0cmluZz4gaW5TY29wZUdpZHMsCgkJCQkJCQkJCQkJCQkJCQkgICBMaXN0PD8gZXh0ZW5kcyBHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IHRocmVhZElkcywKCQkJCQkJCQkJCQkJCQkJCSAgIGJvb2xlYW4gcmV0cmlldmVGdWxsTWVzc2FnZXMsCgkJCQkJCQkJCQkJCQkJCQkgICBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmKSB7CgkJQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvciBwcm9jZXNzb3IgPSBuZXcgQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvcigKCQkJYnRTdHViLCBpblNjb3BlR2lkcywgcmV0cmlldmVGdWxsTWVzc2FnZXMsIGZpbmFsQ2YpOwoJCXByb2Nlc3Nvci5maW5kQ29ubmVjdGVkQnlUaHJlYWRJZHMoYnRTdHViLCBpblNjb3BlR2lkcywgdGhyZWFkSWRzKQoJCQkJIC53aGVuQ29tcGxldGUocHJvY2Vzc29yLmluZGV4Q29uc3VtZXIpOwoJCS8vIFRoaXMgaXMgYXdrd2FyZCAtIFRPRE86IG1vdmUgaW50byB0aGUgcHJvY2Vzc29yIGxvZ2ljCgkJcHJvY2Vzc29yLnN0ZXBzQ3VycmVudGx5UnVubmluZy5pbmNyZW1lbnRBbmRHZXQoKTsKCQlwcm9jZXNzb3IuZmluZEdtYWlsVGhyZWFkS2V5c0J5VGhyZWFkSWRzKGJ0U3R1YiwgdGhyZWFkSWRzKQoJCQkJIC53aGVuQ29tcGxldGUocHJvY2Vzc29yLmdtYWlsVGhyZWFkS2V5Q29uc3VtZXIpOwoJCXJldHVybiBwcm9jZXNzb3I7Cgl9CgoJLy8gRmluZHMgYWxsIGluZGV4IGVudHJpZXMgdGhhdCBpblNjb3BlR2lkcyBoYXZlIGV4Y2hhbmdlZCB3aXRoIGEgZ2l2ZW4gZG9tYWluIG9yIGVtYWlsCglwcm90ZWN0ZWQgc3RhdGljIENvbXBsZXRhYmxlRnV0dXJlPFNldDxNZXNzYWdlSW5kZXhJbmZvPj4gZmluZENvbm5lY3RlZEJ5TWFpbGJveEZhbWlseShCaWd0YWJsZVN0dWIgYnRTdHViLCBTZXQ8U3RyaW5nPiBpblNjb3BlR2lkcywgU3RyaW5nIG1haWxib3hGYW1pbHksIExpc3Q8U3RyaW5nPiBtYWlsYm94RmFtaWx5VmFsdWVzKSB7CgkJQ29tcGxldGFibGVGdXR1cmU8U2V0PE1lc3NhZ2VJbmRleEluZm8+PiBtZXNzYWdlU2V0Q2YgPSBuZXcgQ29tcGxldGFibGVGdXR1cmU8PigpOwoJCVJvd1NldC5CdWlsZGVyIGJ1aWxkZXIgPSBSb3dTZXQubmV3QnVpbGRlcigpOwoJCWZvciAoU3RyaW5nIGdpZCA6IGluU2NvcGVHaWRzKSB7CgkJCWZvciAoU3RyaW5nIG1haWxib3hGYW1pbHlWYWx1ZSA6IG1haWxib3hGYW1pbHlWYWx1ZXMpIHsKCQkJCWJ1aWxkZXIuYWRkUm93S2V5cyhNYWlsYm94Um93S2V5Lm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkuc2V0R2lkKGdpZCkKCQkJCQkJCQkJCQkJLnNldE5hbWUobWFpbGJveEZhbWlseVZhbHVlKQoJCQkJCQkJCQkJCQkuYnVpbGQoKQoJCQkJCQkJCQkJCQkudG9CeXRlU3RyaW5nKCkpOwoJCQl9CgkJfQoKCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFU19UQUJMRSkKCQkJCQkJICAgLnNldFJvd3MoYnVpbGRlci5idWlsZCgpKQoJCQkJCQkgICAuc2V0RmlsdGVyKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkgICAuc2V0Q2hhaW4oQ2hhaW4ubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRGYW1pbHlOYW1lUmVnZXhGaWx0ZXIobWFpbGJveEZhbWlseSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYWRkRmlsdGVycyhSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLnNldENlbGxzUGVyQ29sdW1uTGltaXRGaWx0ZXIoMSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJICAgLmJ1aWxkKCk7CgkJYnRTdHViLnJlYWRSb3dzKHJlcSwgbmV3IEluZGV4UmVzcG9uc2VPYnNlcnZlcihtZXNzYWdlU2V0Q2YsIGluU2NvcGVHaWRzKSk7CgoJCXJldHVybiBtZXNzYWdlU2V0Q2Y7Cgl9CgoJLy8gRmluZHMgYWxsIGluZGV4IGVudHJpZXMgdGhhdCBpblNjb3BlZEdpZHMgaGF2ZSB3aXRoIGEgZ2l2ZW4gUkZDIG1lc3NhZ2UgSUQKCXByb3RlY3RlZCBzdGF0aWMgQ29tcGxldGFibGVGdXR1cmU8U2V0PE1lc3NhZ2VJbmRleEluZm8+PiBmaW5kQ29ubmVjdGVkQnlSZmNNZXNzYWdlSWRIYXNoKEJpZ3RhYmxlU3R1YiBidFN0dWIsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzLCBMaXN0PEJ5dGVTdHJpbmc+IHJmY01lc3NhZ2VJZEhhc2hlcykgewoJCS8vIFN5c3RlbS5vdXQucHJpbnRsbigiRmluZGluZyBjb25uZWN0ZWQgYnkgUkZDIG1lc3NhZ2UgaWQgIiArIHJmY01lc3NhZ2VJZHMpOwoJCUNvbXBsZXRhYmxlRnV0dXJlPFNldDxNZXNzYWdlSW5kZXhJbmZvPj4gbWVzc2FnZVNldENmID0gbmV3IENvbXBsZXRhYmxlRnV0dXJlPD4oKTsKCQlSb3dTZXQuQnVpbGRlciBidWlsZGVyID0gUm93U2V0Lm5ld0J1aWxkZXIoKTsKCQlmb3IgKEJ5dGVTdHJpbmcgcmZjTWVzc2FnZUlkSGFzaCA6IHJmY01lc3NhZ2VJZEhhc2hlcykgewoJCQl0cnkgewoJCQkJYnVpbGRlci5hZGRSb3dLZXlzKFJmY01lc3NhZ2VJZFJvd0tleS5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCSAuc2V0UmZjTWVzc2FnZUlkSGFzaChyZmNNZXNzYWdlSWRIYXNoKQoJCQkJCQkJCQkJCQkJIC5idWlsZCgpCgkJCQkJCQkJCQkJCQkgLnRvQnl0ZVN0cmluZygpKTsKCQkJfQoJCQljYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsKCQkJCWUucHJpbnRTdGFja1RyYWNlKCk7CgkJCX0KCQl9CgoJCVJlYWRSb3dzUmVxdWVzdCByZXEgPQoJCQlSZWFkUm93c1JlcXVlc3QubmV3QnVpbGRlcigpCgkJCQkJCSAgIC5zZXRUYWJsZU5hbWUoU3Bhbm5lckJpZ3RhYmxlLk1FU1NBR0VTX1RBQkxFKQoJCQkJCQkgICAuc2V0Um93cyhidWlsZGVyLmJ1aWxkKCkpCgkJCQkJCSAgIC5zZXRGaWx0ZXIoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCSAgIC5zZXRDaGFpbihDaGFpbi5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJICAuYWRkRmlsdGVycyhSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLnNldEZhbWlseU5hbWVSZWdleEZpbHRlcihTcGFubmVyQmlndGFibGUuTUVTU0FHRVNfQllfUkZDX01FU1NBR0VfSURfRkFNSUxZKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5hZGRGaWx0ZXJzKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuc2V0Q2VsbHNQZXJDb2x1bW5MaW1pdEZpbHRlcigxKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5idWlsZCgpKQoJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkgICAuYnVpbGQoKTsKCQlidFN0dWIucmVhZFJvd3MocmVxLCBuZXcgSW5kZXhSZXNwb25zZU9ic2VydmVyKG1lc3NhZ2VTZXRDZiwgaW5TY29wZUdpZHMpKTsKCgkJcmV0dXJuIG1lc3NhZ2VTZXRDZjsKCX0KCgkvLyBGaW5kcyBhbGwgaW5kZXggZW50cmllcyB3aXRoIGEgZ2l2ZW4gR21haWwgdGhyZWFkIGlkCglwcm90ZWN0ZWQgc3RhdGljIENvbXBsZXRhYmxlRnV0dXJlPFNldDxNZXNzYWdlSW5kZXhJbmZvPj4gZmluZENvbm5lY3RlZEJ5VGhyZWFkSWRzKEJpZ3RhYmxlU3R1YiBidFN0dWIsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzLCBMaXN0PD8gZXh0ZW5kcyBHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IGlkcykgewoJCS8vIFN5c3RlbS5vdXQucHJpbnRsbigiRmluZGluZyBjb25uZWN0ZWQgYnkgdGhyZWFkICIgKyBnaWQgKyAiOiIgKyB0aHJlYWRJZCk7CgkJQ29tcGxldGFibGVGdXR1cmU8U2V0PE1lc3NhZ2VJbmRleEluZm8+PiBtZXNzYWdlU2V0Q2YgPSBuZXcgQ29tcGxldGFibGVGdXR1cmU8PigpOwoJCVJvd1NldC5CdWlsZGVyIHJvd1NldEJ1aWxkZXIgPSBSb3dTZXQKCQkJLm5ld0J1aWxkZXIoKTsKCQlmb3IgKEdtYWlsQXBpVGhyZWFkSWRlbnRpZmllciBpZGVudGlmaWVyOiBpZHMpIHsKCQkJcm93U2V0QnVpbGRlci5hZGRSb3dLZXlzKFRocmVhZFJvd0tleS5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJLnNldEdpZChpZGVudGlmaWVyLmdldEdpZCgpKQoJCQkJCQkJCQkuc2V0VGhyZWFkSWQoaWRlbnRpZmllci5nZXRUaHJlYWRJZCgpKQoJCQkJCQkJCQkuYnVpbGQoKQoJCQkJCQkJCQkudG9CeXRlU3RyaW5nKCkpOwoJCX0KCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFU19UQUJMRSkKCQkJCQkJICAgLnNldFJvd3Mocm93U2V0QnVpbGRlci5idWlsZCgpKQoJCQkJCQkgICAuc2V0RmlsdGVyKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkgICAuc2V0Q2hhaW4oQ2hhaW4ubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRGYW1pbHlOYW1lUmVnZXhGaWx0ZXIoU3Bhbm5lckJpZ3RhYmxlLk1FU1NBR0VTX0JZX1RIUkVBRF9JRF9GQU1JTFkpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLmJ1aWxkKCkpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRDZWxsc1BlckNvbHVtbkxpbWl0RmlsdGVyKDEpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLmJ1aWxkKCkpCgkJCQkJCQkJCQkJCQkJCSAgLmJ1aWxkKCkpCgkJCQkJCQkJCQkJICAgLmJ1aWxkKCkpCgkJCQkJCSAgIC5idWlsZCgpOwoJCWJ0U3R1Yi5yZWFkUm93cyhyZXEsIG5ldyBJbmRleFJlc3BvbnNlT2JzZXJ2ZXIobWVzc2FnZVNldENmLCBpblNjb3BlR2lkcykpOwoJCXJldHVybiBtZXNzYWdlU2V0Q2Y7Cgl9CgoJcHJvdGVjdGVkIHN0YXRpYyBDb21wbGV0YWJsZUZ1dHVyZTxTZXQ8S2V5PEdtYWlsVGhyZWFkPj4+IGZpbmRHbWFpbFRocmVhZEtleXNCeVRocmVhZElkcyhCaWd0YWJsZVN0dWIgYnRTdHViLCBMaXN0PD8gZXh0ZW5kcyBHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IGlkcykgewoJCUNvbXBsZXRhYmxlRnV0dXJlPFNldDxLZXk8R21haWxUaHJlYWQ+Pj4gZ21haWxUaHJlYWRLZXlTZXRDZiA9IG5ldyBDb21wbGV0YWJsZUZ1dHVyZTw+KCk7CgkJUm93U2V0LkJ1aWxkZXIgcm93U2V0QnVpbGRlciA9IFJvd1NldAoJCQkubmV3QnVpbGRlcigpOwoJCWZvciAoR21haWxBcGlUaHJlYWRJZGVudGlmaWVyIGlkZW50aWZpZXI6IGlkcykgewoJCQlyb3dTZXRCdWlsZGVyLmFkZFJvd0tleXMoVGhyZWFkUm93S2V5Lm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkgLnNldEdpZChpZGVudGlmaWVyLmdldEdpZCgpKQoJCQkJCQkJCQkJCQkgLnNldFRocmVhZElkKGlkZW50aWZpZXIuZ2V0VGhyZWFkSWQoKSkKCQkJCQkJCQkJCQkJIC5idWlsZCgpCgkJCQkJCQkJCQkJCSAudG9CeXRlU3RyaW5nKCkpOwoJCX0KCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKEJpZ3RhYmxlQ2FjaGUuQ0FDSEVfVEFCTEUpCgkJCQkJCSAgIC5zZXRSb3dzKHJvd1NldEJ1aWxkZXIuYnVpbGQoKSkKCQkJCQkJICAgLnNldEZpbHRlcihSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJICAgLnNldENoYWluKENoYWluLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkgIC5hZGRGaWx0ZXJzKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuc2V0RmFtaWx5TmFtZVJlZ2V4RmlsdGVyKEJpZ3RhYmxlQ2FjaGUuR01BSUxfVEhSRUFEX0lEX0lOREVYX0ZBTUlMWSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYWRkRmlsdGVycyhSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLnNldENlbGxzUGVyQ29sdW1uTGltaXRGaWx0ZXIoMSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJICAgLmJ1aWxkKCk7CgkJYnRTdHViLnJlYWRSb3dzKHJlcSwgbmV3IEdtYWlsVGhyZWFkS2V5UmVzcG9uc2VPYnNlcnZlcihnbWFpbFRocmVhZEtleVNldENmKSk7CgkJcmV0dXJuIGdtYWlsVGhyZWFkS2V5U2V0Q2Y7Cgl9CgoJLy8gRmV0Y2hlcyB0aGUgRnVsbE1lc3NhZ2VzIGZvciBhIHNldCBvZiBpbmRleCBlbnRyaWVzCglwcml2YXRlIHN0YXRpYyBDb21wbGV0YWJsZUZ1dHVyZTxTZXQ8RnVsbE1lc3NhZ2U+PiBmZXRjaEZ1bGxNZXNzYWdlcyhCaWd0YWJsZVN0dWIgYnRTdHViLCBMaXN0PE1lc3NhZ2VJbmRleEluZm8+IGluZm9zKSB7CgkJQ29tcGxldGFibGVGdXR1cmU8U2V0PEZ1bGxNZXNzYWdlPj4gbWVzc2FnZVNldENmID0gbmV3IENvbXBsZXRhYmxlRnV0dXJlPD4oKTsKCQlSb3dTZXQuQnVpbGRlciBidWlsZGVyID0gUm93U2V0Lm5ld0J1aWxkZXIoKTsKCQlmb3IgKE1lc3NhZ2VJbmRleEluZm8gaW5mbyA6IGluZm9zKSB7CgkJCWJ1aWxkZXIuYWRkUm93S2V5cyhNZXNzYWdlUm93S2V5Lm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCS5zZXRHaWQoaW5mby5nZXRHaWQoKSkKCQkJCQkJCQkJCQkuc2V0TWVzc2FnZUlkKGluZm8uZ2V0TWVzc2FnZUlkKCkpCgkJCQkJCQkJCQkJLmJ1aWxkKCkKCQkJCQkJCQkJCQkudG9CeXRlU3RyaW5nKCkpOwoJCX0KCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFU19UQUJMRSkKCQkJCQkJICAgLnNldFJvd3MoYnVpbGRlci5idWlsZCgpKQoJCQkJCQkgICAuc2V0RmlsdGVyKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkgICAuc2V0Q2hhaW4oQ2hhaW4ubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRGYW1pbHlOYW1lUmVnZXhGaWx0ZXIoU3Bhbm5lckJpZ3RhYmxlLk1FU1NBR0VTX0JZX01FU1NBR0VfSURfRkFNSUxZKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5hZGRGaWx0ZXJzKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuc2V0Q2VsbHNQZXJDb2x1bW5MaW1pdEZpbHRlcigxKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5idWlsZCgpKQoJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkgICAuYnVpbGQoKTsKCgkJYnRTdHViLnJlYWRSb3dzKHJlcSwgbmV3IFN0cmVhbU9ic2VydmVyPFJlYWRSb3dzUmVzcG9uc2U+KCkgewoJCQlwcml2YXRlIEhhc2hTZXQ8RnVsbE1lc3NhZ2U+IG1lc3NhZ2VTZXQgPSBuZXcgSGFzaFNldDw+KCk7CgoJCQlwcml2YXRlIFN0cmluZyByb3dLZXlGb3JWYWx1ZVNvRmFyID0gbnVsbDsKCQkJcHJpdmF0ZSBTdHJpbmcgcXVhbGlmaWVyRm9yVmFsdWVTb0ZhciA9IG51bGw7CgkJCXByaXZhdGUgQnl0ZVN0cmluZyB2YWx1ZVNvRmFyID0gbnVsbDsKCgkJCUBPdmVycmlkZQoJCQlwdWJsaWMgdm9pZCBvbk5leHQoUmVhZFJvd3NSZXNwb25zZSByZWFkUm93c1Jlc3BvbnNlKSB7CgkJCQlzeW5jaHJvbml6ZWQgKHRoaXMpIHsKCQkJCQlmb3IgKENlbGxDaHVuayBjaHVuayA6IHJlYWRSb3dzUmVzcG9uc2UuZ2V0Q2h1bmtzTGlzdCgpKSB7CgkJCQkJCS8vIE5vdGUgLSBhIGNlbGwgY2FuIGdldCBkaXZ2aWVkIHVwIGludG8gdHdvIChvciBtYXliZSBtb3JlKSBjaHVua3MKCQkJCQkJLy8gSW4gdGhpcyBjYXNlLCB0aGUgdmFsdWUgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGNodW5rcwoJCQkJCQkvLyBhbmQgcXVhbGlmaWVyL3JvdyBrZXkgYXJlIG9ubHkgc2V0IGZvciB0aGUgZmlyc3QgY2h1bmsKCQkJCQkJaWYgKGNodW5rLmhhc1F1YWxpZmllcigpKSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWZsdXNoVmFsdWVTb0ZhcigpOwoJCQkJCQkJfQoJCQkJCQkJY2F0Y2ggKElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBlKSB7CgkJCQkJCQkJU3lzdGVtLmVyci5wcmludGxuKCJHb3QgcGFyc2UgZXJyb3IgZm9yICIgKyBjaHVuayArICIgLT4gIiArIHJvd0tleUZvclZhbHVlU29GYXIgKyAiLyIgKyBxdWFsaWZpZXJGb3JWYWx1ZVNvRmFyICsgIjoiICsgdmFsdWVTb0Zhci50b1N0cmluZ1V0ZjgoKSk7CgkJCQkJCQkJdGhyb3cgZTsKCQkJCQkJCX0KCQkJCQkJCXJvd0tleUZvclZhbHVlU29GYXIgPSBjaHVuay5nZXRSb3dLZXkoKS50b1N0cmluZ1V0ZjgoKTsKCQkJCQkJCXF1YWxpZmllckZvclZhbHVlU29GYXIgPSBjaHVuay5nZXRRdWFsaWZpZXIoKS5nZXRWYWx1ZSgpLnRvU3RyaW5nVXRmOCgpOwoJCQkJCQkJdmFsdWVTb0ZhciA9IGNodW5rLmdldFZhbHVlKCk7CgkJCQkJCX0KCQkJCQkJZWxzZSB7CgkJCQkJCQl2YWx1ZVNvRmFyID0gdmFsdWVTb0Zhci5jb25jYXQoY2h1bmsuZ2V0VmFsdWUoKSk7CgoJCQkJCQkJU3lzdGVtLm91dC5wcmludGxuKCJDb25jYXQgdmFsdWU6ICIgKyB2YWx1ZVNvRmFyLnRvU3RyaW5nVXRmOCgpKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJcHVibGljIHZvaWQgZmx1c2hWYWx1ZVNvRmFyKCkgewoJCQkJaWYgKHZhbHVlU29GYXIgIT0gbnVsbCkgewoJCQkJCXRyeSB7CgkJCQkJCW1lc3NhZ2VTZXQuYWRkKEZ1bGxNZXNzYWdlLnBhcnNlRnJvbShTbmFwcHkudW5jb21wcmVzcyh2YWx1ZVNvRmFyLnRvQnl0ZUFycmF5KCkpKSk7CgkJCQkJfQoJCQkJCWNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7CgkJCQkJCWUucHJpbnRTdGFja1RyYWNlKCk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQlAT3ZlcnJpZGUKCQkJcHVibGljIHZvaWQgb25FcnJvcihUaHJvd2FibGUgdGhyb3dhYmxlKSB7CgkJCQl0aHJvd2FibGUucHJpbnRTdGFja1RyYWNlKCk7CgkJCQltZXNzYWdlU2V0Q2YuY29tcGxldGVFeGNlcHRpb25hbGx5KHRocm93YWJsZSk7CgkJCX0KCgkJCUBPdmVycmlkZQoJCQlwdWJsaWMgdm9pZCBvbkNvbXBsZXRlZCgpIHsKCQkJCWZsdXNoVmFsdWVTb0ZhcigpOwoJCQkJbWVzc2FnZVNldENmLmNvbXBsZXRlKG1lc3NhZ2VTZXQpOwoJCQl9CgkJfSk7CgkJcmV0dXJuIG1lc3NhZ2VTZXRDZjsKCX0KCglwdWJsaWMgU2V0PE1lc3NhZ2VJbmRleEluZm8+IGdldEluZGV4SW5mb3MoKSB7CgkJcmV0dXJuIHByb2Nlc3NlZEluZm9zOwoJfQoKCXB1YmxpYyBTZXQ8S2V5PEdtYWlsVGhyZWFkPj4gZ2V0R21haWxUaHJlYWRLZXlzKCkgewoJCXJldHVybiBwcm9jZXNzZWRHbWFpbFRocmVhZEtleXM7Cgl9CgoJcHVibGljIFNldDxGdWxsTWVzc2FnZT4gZ2V0RnVsbE1lc3NhZ2VzKCkgewoJCXJldHVybiBmdWxsTWVzc2FnZXM7Cgl9Cn0K</text>
      </register>
      <register name="-" type="4">
        <text>/</text>
      </register>
      <register name="/" type="4">
        <text>&quot;</text>
      </register>
      <register name="0" type="2">
        <text encoding="base64">CQlUaHJlYWQuc2xlZXAoMjAwKTsK</text>
      </register>
      <register name="1" type="2">
        <text encoding="base64">cGFja2FnZSBjb20uc3RyZWFrLmJpZ3RhYmxlOwoKaW1wb3J0IGNvbS5nb29nbGUuYmlndGFibGUudjIuQmlndGFibGVHcnBjLkJpZ3RhYmxlU3R1YjsKaW1wb3J0IGNvbS5nb29nbGUuYmlndGFibGUudjIuUmVhZFJvd3NSZXF1ZXN0OwppbXBvcnQgY29tLmdvb2dsZS5iaWd0YWJsZS52Mi5SZWFkUm93c1Jlc3BvbnNlOwppbXBvcnQgY29tLmdvb2dsZS5iaWd0YWJsZS52Mi5SZWFkUm93c1Jlc3BvbnNlLkNlbGxDaHVuazsKaW1wb3J0IGNvbS5nb29nbGUuYmlndGFibGUudjIuUm93RmlsdGVyOwppbXBvcnQgY29tLmdvb2dsZS5iaWd0YWJsZS52Mi5Sb3dGaWx0ZXIuQ2hhaW47CmltcG9ydCBjb20uZ29vZ2xlLmJpZ3RhYmxlLnYyLlJvd1NldDsKaW1wb3J0IGNvbS5nb29nbGUuY29tbW9uLmNvbGxlY3QuTGlzdHM7CmltcG9ydCBjb20uZ29vZ2xlLnByb3RvYnVmLkJ5dGVTdHJpbmc7CmltcG9ydCBjb20uZ29vZ2xlY29kZS5vYmplY3RpZnkuS2V5OwppbXBvcnQgY29tLnJld2FyZGx5Lm1haWxmb28uZGF0YWFjY2Vzcy5jYWNoaW5nLkJpZ3RhYmxlQ2FjaGU7CmltcG9ydCBjb20ucmV3YXJkbHkubWFpbGZvby5kYXRhbW9kZWwuR21haWxUaHJlYWQ7CmltcG9ydCBjb20ucmV3YXJkbHkubWFpbGZvby5kYXRhbW9kZWwubm9uZGF0YXN0b3JlLkdtYWlsQXBpVGhyZWFkSWRlbnRpZmllcjsKaW1wb3J0IGNvbS5yZXdhcmRseS5tYWlsZm9vLnNwYW5uZXJjYWNoZS5GdWxsTWVzc2FnZTsKaW1wb3J0IGNvbS5yZXdhcmRseS5tYWlsZm9vLnNwYW5uZXJjYWNoZS5NYWlsYm94Um93S2V5OwppbXBvcnQgY29tLnJld2FyZGx5Lm1haWxmb28uc3Bhbm5lcmNhY2hlLk1lc3NhZ2VSb3dLZXk7CmltcG9ydCBjb20ucmV3YXJkbHkubWFpbGZvby5zcGFubmVyY2FjaGUuUmZjTWVzc2FnZUlkUm93S2V5OwppbXBvcnQgY29tLnJld2FyZGx5Lm1haWxmb28uc3Bhbm5lcmNhY2hlLlRocmVhZFJvd0tleTsKaW1wb3J0IGNvbS5zdHJlYWsuYmlndGFibGUuU3Bhbm5lckJpZ3RhYmxlLk1lc3NhZ2VJbmRleEluZm87CmltcG9ydCBpby5ncnBjLnN0dWIuU3RyZWFtT2JzZXJ2ZXI7CmltcG9ydCBvcmcueGVyaWFsLnNuYXBweS5TbmFwcHk7CgppbXBvcnQgamF2YS5pby5JT0V4Y2VwdGlvbjsKaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7CmltcG9ydCBqYXZhLnV0aWwuSGFzaFNldDsKaW1wb3J0IGphdmEudXRpbC5MaXN0OwppbXBvcnQgamF2YS51dGlsLlNldDsKaW1wb3J0IGphdmEudXRpbC5jb25jdXJyZW50LkNvbXBsZXRhYmxlRnV0dXJlOwppbXBvcnQgamF2YS51dGlsLmNvbmN1cnJlbnQuYXRvbWljLkF0b21pY0ludGVnZXI7CmltcG9ydCBqYXZhLnV0aWwuZnVuY3Rpb24uQmlDb25zdW1lcjsKCi8vIEZhbnMgb3V0IHRvIGFsbCBpbmRleCBlbnRyaWVzIGluIHRoZSB1bmlmaWVkIHRocmVhZCwgcG9zc2libHkgZmV0Y2hpbmcgRnVsbE1lc3NhZ2VzIGFzIHdlbGwKcHVibGljIGNsYXNzIEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgewoJcHVibGljIGNsYXNzIEluZGV4Q29uc3VtZXIgaW1wbGVtZW50cyBCaUNvbnN1bWVyPFNldDxNZXNzYWdlSW5kZXhJbmZvPiwgVGhyb3dhYmxlPiB7CgkJLy8gRG9lcyBhIHN0ZXAgb2YgdGhlIGZhbm91dCwga2VlcGluZyB0cmFjayBvZiBob3cgbWFueSBzdGVwcyBhcmUgY3VycmVudGx5CgkJLy8gaW4tcHJvY2VzcwoJCUBPdmVycmlkZQoJCXB1YmxpYyB2b2lkIGFjY2VwdChTZXQ8TWVzc2FnZUluZGV4SW5mbz4gbmV3SW5mb3MsIFRocm93YWJsZSB0KSB7CgkJCWlmICh0ICE9IG51bGwpIHsKCQkJCXQucHJpbnRTdGFja1RyYWNlKCk7CgkJCQlmaW5hbENmLmNvbXBsZXRlRXhjZXB0aW9uYWxseSh0KTsKCQkJCXJldHVybjsKCQkJfQoJCQlzeW5jaHJvbml6ZWQgKHByb2Nlc3NlZEluZm9zKSB7CgkJCQkvLyBEb24ndCByZXByb2Nlc3MgZXhpc3RpbmcgaW5mb3MKCQkJCW5ld0luZm9zLnJlbW92ZUFsbChwcm9jZXNzZWRJbmZvcyk7CgkJCQlwcm9jZXNzZWRJbmZvcy5hZGRBbGwobmV3SW5mb3MpO2dnVgoKCQkJCWlmIChyZXRyaWV2ZUZ1bGxNZXNzYWdlcyAmJiAhbmV3SW5mb3MuaXNFbXB0eSgpKSB7CgkJCQkJZm9yIChMaXN0PE1lc3NhZ2VJbmRleEluZm8+IGluZm9zIDogTGlzdHMucGFydGl0aW9uKG5ldyBBcnJheUxpc3Q8PihuZXdJbmZvcyksIDEwMDApKSB7CgkJCQkJCXN0ZXBzQ3VycmVudGx5UnVubmluZy5pbmNyZW1lbnRBbmRHZXQoKTsKCQkJCQkJZmV0Y2hGdWxsTWVzc2FnZXMoYnRTdHViLCBpbmZvcykKCQkJCQkJCS53aGVuQ29tcGxldGUoKG1lc3NhZ2VzLCB0MikgLT4gewoJCQkJCQkJCWlmICh0MiAhPSBudWxsKSB7CgkJCQkJCQkJCXQyLnByaW50U3RhY2tUcmFjZSgpOwoJCQkJCQkJCQlmaW5hbENmLmNvbXBsZXRlRXhjZXB0aW9uYWxseSh0Mik7CgkJCQkJCQkJCXJldHVybjsKCQkJCQkJCQl9CgoJCQkJCQkJCWZ1bGxNZXNzYWdlcy5hZGRBbGwobWVzc2FnZXMpOwoKCQkJCQkJCQk7CgkJCQkJCQkJaWYgKHN0ZXBzQ3VycmVudGx5UnVubmluZy5kZWNyZW1lbnRBbmRHZXQoKSA9PSAwKSB7CgkJCQkJCQkJCVN5c3RlbS5vdXQucHJpbnRsbigiRG9uZSAiICsgKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnRUaW1lKSArICIgbXMiKTsKCQkJCQkJCQkJZmluYWxDZi5jb21wbGV0ZShudWxsKTsKCQkJCQkJCQl9CgkJCQkJCQl9KTsKCQkJCQl9CgkJCQl9CgoJCQkJTGlzdDxCeXRlU3RyaW5nPiByZmNNZXNzYWdlSWRIYXNoZXNUb1Byb2Nlc3MgPSBuZXcgQXJyYXlMaXN0PD4oKTsKCQkJCUxpc3Q8R21haWxBcGlUaHJlYWRJZGVudGlmaWVyPiB0aHJlYWRJZHNUb1Byb2Nlc3MgPSBuZXcgQXJyYXlMaXN0PD4oKTsKCQkJCWZvciAoTWVzc2FnZUluZGV4SW5mbyBpbmZvIDogbmV3SW5mb3MpIHsKCQkJCQkvLyBEb24ndCByZXByb2Nlc3MgZXhpc3RpbmcgUkZDIG1lc3NhZ2UgSURzCgkJCQkJaWYgKCFwcm9jZXNzZWRSZmNNZXNzYWdlSWRIYXNoZXMuY29udGFpbnMoaW5mby5nZXRSZmNNZXNzYWdlSWRIYXNoKCkpKSB7CgkJCQkJCXByb2Nlc3NlZFJmY01lc3NhZ2VJZEhhc2hlcy5hZGQoaW5mby5nZXRSZmNNZXNzYWdlSWRIYXNoKCkpOwoJCQkJCQlyZmNNZXNzYWdlSWRIYXNoZXNUb1Byb2Nlc3MuYWRkKGluZm8uZ2V0UmZjTWVzc2FnZUlkSGFzaCgpKTsKCQkJCQl9CgkJCQkJaWYgKCFwcm9jZXNzZWRUaHJlYWRJZHMuY29udGFpbnMoaW5mby5nZXRUaHJlYWRJZGVudGlmaWVyKCkuYXNLZXkoKSkpIHsKCQkJCQkJcHJvY2Vzc2VkVGhyZWFkSWRzLmFkZChpbmZvLmdldFRocmVhZElkZW50aWZpZXIoKS5hc0tleSgpKTsKCQkJCQkJdGhyZWFkSWRzVG9Qcm9jZXNzLmFkZChpbmZvLmdldFRocmVhZElkZW50aWZpZXIoKSk7CgkJCQkJfQoJCQkJfQoKCQkJCWlmICghdGhyZWFkSWRzVG9Qcm9jZXNzLmlzRW1wdHkoKSkgewoJCQkJCWZvciAoTGlzdDxHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IHRocmVhZElkc0JhdGNoOiBMaXN0cy5wYXJ0aXRpb24odGhyZWFkSWRzVG9Qcm9jZXNzLCAxMDAwKSkgewoJCQkJCQlzdGVwc0N1cnJlbnRseVJ1bm5pbmcuZ2V0QW5kQWRkKDIpOwoJCQkJCQlmaW5kQ29ubmVjdGVkQnlUaHJlYWRJZHMoYnRTdHViLCBpblNjb3BlR2lkcywgdGhyZWFkSWRzQmF0Y2gpCgkJCQkJCQkud2hlbkNvbXBsZXRlKHRoaXMpOwoJCQkJCQlmaW5kR21haWxUaHJlYWRLZXlzQnlUaHJlYWRJZHMoYnRTdHViLCB0aHJlYWRJZHNCYXRjaCkKCQkJCQkJCS53aGVuQ29tcGxldGUoQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3Nvci50aGlzLmdtYWlsVGhyZWFkS2V5Q29uc3VtZXIpOwoJCQkJCX0KCQkJCX0KCgkJCQlpZiAoIXJmY01lc3NhZ2VJZEhhc2hlc1RvUHJvY2Vzcy5pc0VtcHR5KCkpIHsKCQkJCQlmb3IgKExpc3Q8Qnl0ZVN0cmluZz4gcmZjQmF0Y2ggOiBMaXN0cy5wYXJ0aXRpb24ocmZjTWVzc2FnZUlkSGFzaGVzVG9Qcm9jZXNzLCAxMDAwKSkgewoJCQkJCQlzdGVwc0N1cnJlbnRseVJ1bm5pbmcuaW5jcmVtZW50QW5kR2V0KCk7CgkJCQkJCWZpbmRDb25uZWN0ZWRCeVJmY01lc3NhZ2VJZEhhc2goYnRTdHViLCBpblNjb3BlR2lkcywgcmZjQmF0Y2gpCgkJCQkJCQkud2hlbkNvbXBsZXRlKHRoaXMpOwoJCQkJCX0KCQkJCX0KCQkJCTsKCQkJCWlmIChzdGVwc0N1cnJlbnRseVJ1bm5pbmcuZGVjcmVtZW50QW5kR2V0KCkgPT0gMCkgewoJCQkJCVN5c3RlbS5vdXQucHJpbnRsbigiRG9uZSAiICsgKFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpIC0gc3RhcnRUaW1lKSArICIgbXMiKTsKCQkJCQlmaW5hbENmLmNvbXBsZXRlKG51bGwpOwoJCQkJfQoJCQl9CgkJfQoJfQoKCXB1YmxpYyBjbGFzcyBHbWFpbFRocmVhZEtleUNvbnN1bWVyIGltcGxlbWVudHMgQmlDb25zdW1lcjxTZXQ8S2V5PEdtYWlsVGhyZWFkPj4sIFRocm93YWJsZT4gewoJCUBPdmVycmlkZQoJCXB1YmxpYyB2b2lkIGFjY2VwdChTZXQ8S2V5PEdtYWlsVGhyZWFkPj4ga2V5cywgVGhyb3dhYmxlIHQpIHsKCQkJaWYgKHQgIT0gbnVsbCkgewoJCQkJdC5wcmludFN0YWNrVHJhY2UoKTsKCQkJCWZpbmFsQ2YuY29tcGxldGVFeGNlcHRpb25hbGx5KHQpOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQlwcm9jZXNzZWRHbWFpbFRocmVhZEtleXMuYWRkQWxsKGtleXMpOwoJCQlzdGVwc0N1cnJlbnRseVJ1bm5pbmcuZGVjcmVtZW50QW5kR2V0KCk7CgkJfQoJfQoKCXByaXZhdGUgZmluYWwgSW5kZXhDb25zdW1lciBpbmRleENvbnN1bWVyID0gbmV3IEluZGV4Q29uc3VtZXIoKTsKCXByaXZhdGUgZmluYWwgR21haWxUaHJlYWRLZXlDb25zdW1lciBnbWFpbFRocmVhZEtleUNvbnN1bWVyID0gbmV3IEdtYWlsVGhyZWFkS2V5Q29uc3VtZXIoKTsKCglwdWJsaWMgZmluYWwgSGFzaFNldDxNZXNzYWdlSW5kZXhJbmZvPiBwcm9jZXNzZWRJbmZvcyA9IG5ldyBIYXNoU2V0PD4oKTsKCXB1YmxpYyBmaW5hbCBIYXNoU2V0PEJ5dGVTdHJpbmc+IHByb2Nlc3NlZFJmY01lc3NhZ2VJZEhhc2hlcyA9IG5ldyBIYXNoU2V0PD4oKTsKCXB1YmxpYyBmaW5hbCBIYXNoU2V0PFN0cmluZz4gcHJvY2Vzc2VkVGhyZWFkSWRzID0gbmV3IEhhc2hTZXQ8PigpOwoJcHVibGljIGZpbmFsIEhhc2hTZXQ8RnVsbE1lc3NhZ2U+IGZ1bGxNZXNzYWdlcyA9IG5ldyBIYXNoU2V0PD4oKTsKCXB1YmxpYyBmaW5hbCBIYXNoU2V0PEtleTxHbWFpbFRocmVhZD4+IHByb2Nlc3NlZEdtYWlsVGhyZWFkS2V5cyA9IG5ldyBIYXNoU2V0PD4oKTsKCgkvLyBDb3VudCBvZiBob3cgbWFueSBpbmRleCByZXF1ZXN0cyBhcmUgY3VycmVudGx5IG91dHN0YW5kaW5nCgkvLyBTdGFydCBhdCAxIGJlY2F1c2Ugd2UgY29tcGxldGUgdGhlIHN0ZXAgZm9yIGluaXRpYWwgYWNjZXB0KCkKCXByaXZhdGUgQXRvbWljSW50ZWdlciBzdGVwc0N1cnJlbnRseVJ1bm5pbmcgPSBuZXcgQXRvbWljSW50ZWdlcigxKTsKCglwcml2YXRlIGZpbmFsIEJpZ3RhYmxlU3R1YiBidFN0dWI7Cglwcml2YXRlIGZpbmFsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzOwoJcHJpdmF0ZSBmaW5hbCBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmOwoJcHJpdmF0ZSBmaW5hbCBib29sZWFuIHJldHJpZXZlRnVsbE1lc3NhZ2VzOwoJcHJpdmF0ZSBmaW5hbCBsb25nIHN0YXJ0VGltZTsKCgkvLyBOb3RlOiBJZiB1c2luZyB0aGUgY29uc3RydWN0b3IgZGlyZWN0bHksIHlvdSBtdXN0IGNhbGwgYWNjZXB0KCkgd2l0aCBhbiBpbml0aWFsIHNldCBvZiBNZXNzYWdlSW5kZXhJbmZvcwoJLy8gdG8gc3RhcnQKCXB1YmxpYyBCaWd0YWJsZUdyYXBoRmFuT3V0UHJvY2Vzc29yKEJpZ3RhYmxlU3R1YiBidFN0dWIsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzLCBib29sZWFuIHJldHJpZXZlRnVsbE1lc3NhZ2VzLCBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmKSB7CgkJdGhpcy5idFN0dWIgPSBidFN0dWI7CgkJdGhpcy5pblNjb3BlR2lkcyA9IGluU2NvcGVHaWRzOwoJCXRoaXMuZmluYWxDZiA9IGZpbmFsQ2Y7CgkJc3RhcnRUaW1lID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7CgkJdGhpcy5yZXRyaWV2ZUZ1bGxNZXNzYWdlcyA9IHJldHJpZXZlRnVsbE1lc3NhZ2VzOwoJfQoKCXB1YmxpYyBzdGF0aWMgQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvciBjcmVhdGVGcm9tTWFpbGJveERvbWFpbnMoQmlndGFibGVTdHViIGJ0U3R1YiwgU2V0PFN0cmluZz4gaW5TY29wZUdpZHMsIExpc3Q8U3RyaW5nPiBtYWlsYm94RG9tYWlucywgQ29tcGxldGFibGVGdXR1cmU8Vm9pZD4gZmluYWxDZikgewoJCUJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgcHJvY2Vzc29yID0gbmV3IEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IoYnRTdHViLCBpblNjb3BlR2lkcywgdHJ1ZSwgZmluYWxDZik7CgkJZmluZENvbm5lY3RlZEJ5TWFpbGJveEZhbWlseShidFN0dWIsIGluU2NvcGVHaWRzLCBTcGFubmVyQmlndGFibGUuTUVTU0FHRV9NQUlMQk9YRVNfQllfTUFJTEJPWF9ET01BSU5fRkFNSUxZLCBtYWlsYm94RG9tYWlucykKCQkJLndoZW5Db21wbGV0ZShwcm9jZXNzb3IuaW5kZXhDb25zdW1lcik7CgkJcmV0dXJuIHByb2Nlc3NvcjsKCX0KCglwdWJsaWMgc3RhdGljIEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgY3JlYXRlRnJvbU1haWxib3hFbWFpbHMoQmlndGFibGVTdHViIGJ0U3R1YiwgU2V0PFN0cmluZz4gaW5TY29wZUdpZHMsIExpc3Q8U3RyaW5nPiBtYWlsYm94RW1haWxzLCBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmKSB7CgkJQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvciBwcm9jZXNzb3IgPSBuZXcgQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvcihidFN0dWIsIGluU2NvcGVHaWRzLCB0cnVlLCBmaW5hbENmKTsKCQlmaW5kQ29ubmVjdGVkQnlNYWlsYm94RmFtaWx5KGJ0U3R1YiwgaW5TY29wZUdpZHMsIFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFX01BSUxCT1hFU19CWV9NQUlMQk9YX0VNQUlMX0ZBTUlMWSwgbWFpbGJveEVtYWlscykKCQkJLndoZW5Db21wbGV0ZShwcm9jZXNzb3IuaW5kZXhDb25zdW1lcik7CgkJcmV0dXJuIHByb2Nlc3NvcjsKCX0KCglwdWJsaWMgc3RhdGljIEJpZ3RhYmxlR3JhcGhGYW5PdXRQcm9jZXNzb3IgY3JlYXRlRnJvbVRocmVhZElkcyhCaWd0YWJsZVN0dWIgYnRTdHViLAoJCQkJCQkJCQkJCQkJCQkJICAgU2V0PFN0cmluZz4gaW5TY29wZUdpZHMsCgkJCQkJCQkJCQkJCQkJCQkgICBMaXN0PD8gZXh0ZW5kcyBHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IHRocmVhZElkcywKCQkJCQkJCQkJCQkJCQkJCSAgIGJvb2xlYW4gcmV0cmlldmVGdWxsTWVzc2FnZXMsCgkJCQkJCQkJCQkJCQkJCQkgICBDb21wbGV0YWJsZUZ1dHVyZTxWb2lkPiBmaW5hbENmKSB7CgkJQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvciBwcm9jZXNzb3IgPSBuZXcgQmlndGFibGVHcmFwaEZhbk91dFByb2Nlc3NvcigKCQkJYnRTdHViLCBpblNjb3BlR2lkcywgcmV0cmlldmVGdWxsTWVzc2FnZXMsIGZpbmFsQ2YpOwoJCXByb2Nlc3Nvci5maW5kQ29ubmVjdGVkQnlUaHJlYWRJZHMoYnRTdHViLCBpblNjb3BlR2lkcywgdGhyZWFkSWRzKQoJCQkJIC53aGVuQ29tcGxldGUocHJvY2Vzc29yLmluZGV4Q29uc3VtZXIpOwoJCS8vIFRoaXMgaXMgYXdrd2FyZCAtIFRPRE86IG1vdmUgaW50byB0aGUgcHJvY2Vzc29yIGxvZ2ljCgkJcHJvY2Vzc29yLnN0ZXBzQ3VycmVudGx5UnVubmluZy5pbmNyZW1lbnRBbmRHZXQoKTsKCQlwcm9jZXNzb3IuZmluZEdtYWlsVGhyZWFkS2V5c0J5VGhyZWFkSWRzKGJ0U3R1YiwgdGhyZWFkSWRzKQoJCQkJIC53aGVuQ29tcGxldGUocHJvY2Vzc29yLmdtYWlsVGhyZWFkS2V5Q29uc3VtZXIpOwoJCXJldHVybiBwcm9jZXNzb3I7Cgl9CgoJLy8gRmluZHMgYWxsIGluZGV4IGVudHJpZXMgdGhhdCBpblNjb3BlR2lkcyBoYXZlIGV4Y2hhbmdlZCB3aXRoIGEgZ2l2ZW4gZG9tYWluIG9yIGVtYWlsCglwcm90ZWN0ZWQgc3RhdGljIENvbXBsZXRhYmxlRnV0dXJlPFNldDxNZXNzYWdlSW5kZXhJbmZvPj4gZmluZENvbm5lY3RlZEJ5TWFpbGJveEZhbWlseShCaWd0YWJsZVN0dWIgYnRTdHViLCBTZXQ8U3RyaW5nPiBpblNjb3BlR2lkcywgU3RyaW5nIG1haWxib3hGYW1pbHksIExpc3Q8U3RyaW5nPiBtYWlsYm94RmFtaWx5VmFsdWVzKSB7CgkJQ29tcGxldGFibGVGdXR1cmU8U2V0PE1lc3NhZ2VJbmRleEluZm8+PiBtZXNzYWdlU2V0Q2YgPSBuZXcgQ29tcGxldGFibGVGdXR1cmU8PigpOwoJCVJvd1NldC5CdWlsZGVyIGJ1aWxkZXIgPSBSb3dTZXQubmV3QnVpbGRlcigpOwoJCWZvciAoU3RyaW5nIGdpZCA6IGluU2NvcGVHaWRzKSB7CgkJCWZvciAoU3RyaW5nIG1haWxib3hGYW1pbHlWYWx1ZSA6IG1haWxib3hGYW1pbHlWYWx1ZXMpIHsKCQkJCWJ1aWxkZXIuYWRkUm93S2V5cyhNYWlsYm94Um93S2V5Lm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkuc2V0R2lkKGdpZCkKCQkJCQkJCQkJCQkJLnNldE5hbWUobWFpbGJveEZhbWlseVZhbHVlKQoJCQkJCQkJCQkJCQkuYnVpbGQoKQoJCQkJCQkJCQkJCQkudG9CeXRlU3RyaW5nKCkpOwoJCQl9CgkJfQoKCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFU19UQUJMRSkKCQkJCQkJICAgLnNldFJvd3MoYnVpbGRlci5idWlsZCgpKQoJCQkJCQkgICAuc2V0RmlsdGVyKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkgICAuc2V0Q2hhaW4oQ2hhaW4ubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRGYW1pbHlOYW1lUmVnZXhGaWx0ZXIobWFpbGJveEZhbWlseSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYWRkRmlsdGVycyhSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLnNldENlbGxzUGVyQ29sdW1uTGltaXRGaWx0ZXIoMSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJICAgLmJ1aWxkKCk7CgkJYnRTdHViLnJlYWRSb3dzKHJlcSwgbmV3IEluZGV4UmVzcG9uc2VPYnNlcnZlcihtZXNzYWdlU2V0Q2YsIGluU2NvcGVHaWRzKSk7CgoJCXJldHVybiBtZXNzYWdlU2V0Q2Y7Cgl9CgoJLy8gRmluZHMgYWxsIGluZGV4IGVudHJpZXMgdGhhdCBpblNjb3BlZEdpZHMgaGF2ZSB3aXRoIGEgZ2l2ZW4gUkZDIG1lc3NhZ2UgSUQKCXByb3RlY3RlZCBzdGF0aWMgQ29tcGxldGFibGVGdXR1cmU8U2V0PE1lc3NhZ2VJbmRleEluZm8+PiBmaW5kQ29ubmVjdGVkQnlSZmNNZXNzYWdlSWRIYXNoKEJpZ3RhYmxlU3R1YiBidFN0dWIsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzLCBMaXN0PEJ5dGVTdHJpbmc+IHJmY01lc3NhZ2VJZEhhc2hlcykgewoJCS8vIFN5c3RlbS5vdXQucHJpbnRsbigiRmluZGluZyBjb25uZWN0ZWQgYnkgUkZDIG1lc3NhZ2UgaWQgIiArIHJmY01lc3NhZ2VJZHMpOwoJCUNvbXBsZXRhYmxlRnV0dXJlPFNldDxNZXNzYWdlSW5kZXhJbmZvPj4gbWVzc2FnZVNldENmID0gbmV3IENvbXBsZXRhYmxlRnV0dXJlPD4oKTsKCQlSb3dTZXQuQnVpbGRlciBidWlsZGVyID0gUm93U2V0Lm5ld0J1aWxkZXIoKTsKCQlmb3IgKEJ5dGVTdHJpbmcgcmZjTWVzc2FnZUlkSGFzaCA6IHJmY01lc3NhZ2VJZEhhc2hlcykgewoJCQl0cnkgewoJCQkJYnVpbGRlci5hZGRSb3dLZXlzKFJmY01lc3NhZ2VJZFJvd0tleS5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCSAuc2V0UmZjTWVzc2FnZUlkSGFzaChyZmNNZXNzYWdlSWRIYXNoKQoJCQkJCQkJCQkJCQkJIC5idWlsZCgpCgkJCQkJCQkJCQkJCQkgLnRvQnl0ZVN0cmluZygpKTsKCQkJfQoJCQljYXRjaCAoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGUpIHsKCQkJCWUucHJpbnRTdGFja1RyYWNlKCk7CgkJCX0KCQl9CgoJCVJlYWRSb3dzUmVxdWVzdCByZXEgPQoJCQlSZWFkUm93c1JlcXVlc3QubmV3QnVpbGRlcigpCgkJCQkJCSAgIC5zZXRUYWJsZU5hbWUoU3Bhbm5lckJpZ3RhYmxlLk1FU1NBR0VTX1RBQkxFKQoJCQkJCQkgICAuc2V0Um93cyhidWlsZGVyLmJ1aWxkKCkpCgkJCQkJCSAgIC5zZXRGaWx0ZXIoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCSAgIC5zZXRDaGFpbihDaGFpbi5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJICAuYWRkRmlsdGVycyhSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLnNldEZhbWlseU5hbWVSZWdleEZpbHRlcihTcGFubmVyQmlndGFibGUuTUVTU0FHRVNfQllfUkZDX01FU1NBR0VfSURfRkFNSUxZKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5hZGRGaWx0ZXJzKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuc2V0Q2VsbHNQZXJDb2x1bW5MaW1pdEZpbHRlcigxKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5idWlsZCgpKQoJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkgICAuYnVpbGQoKTsKCQlidFN0dWIucmVhZFJvd3MocmVxLCBuZXcgSW5kZXhSZXNwb25zZU9ic2VydmVyKG1lc3NhZ2VTZXRDZiwgaW5TY29wZUdpZHMpKTsKCgkJcmV0dXJuIG1lc3NhZ2VTZXRDZjsKCX0KCgkvLyBGaW5kcyBhbGwgaW5kZXggZW50cmllcyB3aXRoIGEgZ2l2ZW4gR21haWwgdGhyZWFkIGlkCglwcm90ZWN0ZWQgc3RhdGljIENvbXBsZXRhYmxlRnV0dXJlPFNldDxNZXNzYWdlSW5kZXhJbmZvPj4gZmluZENvbm5lY3RlZEJ5VGhyZWFkSWRzKEJpZ3RhYmxlU3R1YiBidFN0dWIsIFNldDxTdHJpbmc+IGluU2NvcGVHaWRzLCBMaXN0PD8gZXh0ZW5kcyBHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IGlkcykgewoJCS8vIFN5c3RlbS5vdXQucHJpbnRsbigiRmluZGluZyBjb25uZWN0ZWQgYnkgdGhyZWFkICIgKyBnaWQgKyAiOiIgKyB0aHJlYWRJZCk7CgkJQ29tcGxldGFibGVGdXR1cmU8U2V0PE1lc3NhZ2VJbmRleEluZm8+PiBtZXNzYWdlU2V0Q2YgPSBuZXcgQ29tcGxldGFibGVGdXR1cmU8PigpOwoJCVJvd1NldC5CdWlsZGVyIHJvd1NldEJ1aWxkZXIgPSBSb3dTZXQKCQkJLm5ld0J1aWxkZXIoKTsKCQlmb3IgKEdtYWlsQXBpVGhyZWFkSWRlbnRpZmllciBpZGVudGlmaWVyOiBpZHMpIHsKCQkJcm93U2V0QnVpbGRlci5hZGRSb3dLZXlzKFRocmVhZFJvd0tleS5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJLnNldEdpZChpZGVudGlmaWVyLmdldEdpZCgpKQoJCQkJCQkJCQkuc2V0VGhyZWFkSWQoaWRlbnRpZmllci5nZXRUaHJlYWRJZCgpKQoJCQkJCQkJCQkuYnVpbGQoKQoJCQkJCQkJCQkudG9CeXRlU3RyaW5nKCkpOwoJCX0KCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFU19UQUJMRSkKCQkJCQkJICAgLnNldFJvd3Mocm93U2V0QnVpbGRlci5idWlsZCgpKQoJCQkJCQkgICAuc2V0RmlsdGVyKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkgICAuc2V0Q2hhaW4oQ2hhaW4ubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRGYW1pbHlOYW1lUmVnZXhGaWx0ZXIoU3Bhbm5lckJpZ3RhYmxlLk1FU1NBR0VTX0JZX1RIUkVBRF9JRF9GQU1JTFkpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLmJ1aWxkKCkpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRDZWxsc1BlckNvbHVtbkxpbWl0RmlsdGVyKDEpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLmJ1aWxkKCkpCgkJCQkJCQkJCQkJCQkJCSAgLmJ1aWxkKCkpCgkJCQkJCQkJCQkJICAgLmJ1aWxkKCkpCgkJCQkJCSAgIC5idWlsZCgpOwoJCWJ0U3R1Yi5yZWFkUm93cyhyZXEsIG5ldyBJbmRleFJlc3BvbnNlT2JzZXJ2ZXIobWVzc2FnZVNldENmLCBpblNjb3BlR2lkcykpOwoJCXJldHVybiBtZXNzYWdlU2V0Q2Y7Cgl9CgoJcHJvdGVjdGVkIHN0YXRpYyBDb21wbGV0YWJsZUZ1dHVyZTxTZXQ8S2V5PEdtYWlsVGhyZWFkPj4+IGZpbmRHbWFpbFRocmVhZEtleXNCeVRocmVhZElkcyhCaWd0YWJsZVN0dWIgYnRTdHViLCBMaXN0PD8gZXh0ZW5kcyBHbWFpbEFwaVRocmVhZElkZW50aWZpZXI+IGlkcykgewoJCUNvbXBsZXRhYmxlRnV0dXJlPFNldDxLZXk8R21haWxUaHJlYWQ+Pj4gZ21haWxUaHJlYWRLZXlTZXRDZiA9IG5ldyBDb21wbGV0YWJsZUZ1dHVyZTw+KCk7CgkJUm93U2V0LkJ1aWxkZXIgcm93U2V0QnVpbGRlciA9IFJvd1NldAoJCQkubmV3QnVpbGRlcigpOwoJCWZvciAoR21haWxBcGlUaHJlYWRJZGVudGlmaWVyIGlkZW50aWZpZXI6IGlkcykgewoJCQlyb3dTZXRCdWlsZGVyLmFkZFJvd0tleXMoVGhyZWFkUm93S2V5Lm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkgLnNldEdpZChpZGVudGlmaWVyLmdldEdpZCgpKQoJCQkJCQkJCQkJCQkgLnNldFRocmVhZElkKGlkZW50aWZpZXIuZ2V0VGhyZWFkSWQoKSkKCQkJCQkJCQkJCQkJIC5idWlsZCgpCgkJCQkJCQkJCQkJCSAudG9CeXRlU3RyaW5nKCkpOwoJCX0KCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKEJpZ3RhYmxlQ2FjaGUuQ0FDSEVfVEFCTEUpCgkJCQkJCSAgIC5zZXRSb3dzKHJvd1NldEJ1aWxkZXIuYnVpbGQoKSkKCQkJCQkJICAgLnNldEZpbHRlcihSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJICAgLnNldENoYWluKENoYWluLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkgIC5hZGRGaWx0ZXJzKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuc2V0RmFtaWx5TmFtZVJlZ2V4RmlsdGVyKEJpZ3RhYmxlQ2FjaGUuR01BSUxfVEhSRUFEX0lEX0lOREVYX0ZBTUlMWSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYWRkRmlsdGVycyhSb3dGaWx0ZXIubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCQkJCQkJICAgLnNldENlbGxzUGVyQ29sdW1uTGltaXRGaWx0ZXIoMSkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkJCQkJICAuYnVpbGQoKSkKCQkJCQkJCQkJCQkgICAuYnVpbGQoKSkKCQkJCQkJICAgLmJ1aWxkKCk7CgkJYnRTdHViLnJlYWRSb3dzKHJlcSwgbmV3IEdtYWlsVGhyZWFkS2V5UmVzcG9uc2VPYnNlcnZlcihnbWFpbFRocmVhZEtleVNldENmKSk7CgkJcmV0dXJuIGdtYWlsVGhyZWFkS2V5U2V0Q2Y7Cgl9CgoJLy8gRmV0Y2hlcyB0aGUgRnVsbE1lc3NhZ2VzIGZvciBhIHNldCBvZiBpbmRleCBlbnRyaWVzCglwcml2YXRlIHN0YXRpYyBDb21wbGV0YWJsZUZ1dHVyZTxTZXQ8RnVsbE1lc3NhZ2U+PiBmZXRjaEZ1bGxNZXNzYWdlcyhCaWd0YWJsZVN0dWIgYnRTdHViLCBMaXN0PE1lc3NhZ2VJbmRleEluZm8+IGluZm9zKSB7CgkJQ29tcGxldGFibGVGdXR1cmU8U2V0PEZ1bGxNZXNzYWdlPj4gbWVzc2FnZVNldENmID0gbmV3IENvbXBsZXRhYmxlRnV0dXJlPD4oKTsKCQlSb3dTZXQuQnVpbGRlciBidWlsZGVyID0gUm93U2V0Lm5ld0J1aWxkZXIoKTsKCQlmb3IgKE1lc3NhZ2VJbmRleEluZm8gaW5mbyA6IGluZm9zKSB7CgkJCWJ1aWxkZXIuYWRkUm93S2V5cyhNZXNzYWdlUm93S2V5Lm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCS5zZXRHaWQoaW5mby5nZXRHaWQoKSkKCQkJCQkJCQkJCQkuc2V0TWVzc2FnZUlkKGluZm8uZ2V0TWVzc2FnZUlkKCkpCgkJCQkJCQkJCQkJLmJ1aWxkKCkKCQkJCQkJCQkJCQkudG9CeXRlU3RyaW5nKCkpOwoJCX0KCQlSZWFkUm93c1JlcXVlc3QgcmVxID0KCQkJUmVhZFJvd3NSZXF1ZXN0Lm5ld0J1aWxkZXIoKQoJCQkJCQkgICAuc2V0VGFibGVOYW1lKFNwYW5uZXJCaWd0YWJsZS5NRVNTQUdFU19UQUJMRSkKCQkJCQkJICAgLnNldFJvd3MoYnVpbGRlci5idWlsZCgpKQoJCQkJCQkgICAuc2V0RmlsdGVyKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkgICAuc2V0Q2hhaW4oQ2hhaW4ubmV3QnVpbGRlcigpCgkJCQkJCQkJCQkJCQkJCSAgLmFkZEZpbHRlcnMoUm93RmlsdGVyLm5ld0J1aWxkZXIoKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5zZXRGYW1pbHlOYW1lUmVnZXhGaWx0ZXIoU3Bhbm5lckJpZ3RhYmxlLk1FU1NBR0VTX0JZX01FU1NBR0VfSURfRkFNSUxZKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5hZGRGaWx0ZXJzKFJvd0ZpbHRlci5uZXdCdWlsZGVyKCkKCQkJCQkJCQkJCQkJCQkJCQkJCQkgICAuc2V0Q2VsbHNQZXJDb2x1bW5MaW1pdEZpbHRlcigxKQoJCQkJCQkJCQkJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkJCQkJCQkJCQkgIC5idWlsZCgpKQoJCQkJCQkJCQkJCSAgIC5idWlsZCgpKQoJCQkJCQkgICAuYnVpbGQoKTsKCgkJYnRTdHViLnJlYWRSb3dzKHJlcSwgbmV3IFN0cmVhbU9ic2VydmVyPFJlYWRSb3dzUmVzcG9uc2U+KCkgewoJCQlwcml2YXRlIEhhc2hTZXQ8RnVsbE1lc3NhZ2U+IG1lc3NhZ2VTZXQgPSBuZXcgSGFzaFNldDw+KCk7CgoJCQlwcml2YXRlIFN0cmluZyByb3dLZXlGb3JWYWx1ZVNvRmFyID0gbnVsbDsKCQkJcHJpdmF0ZSBTdHJpbmcgcXVhbGlmaWVyRm9yVmFsdWVTb0ZhciA9IG51bGw7CgkJCXByaXZhdGUgQnl0ZVN0cmluZyB2YWx1ZVNvRmFyID0gbnVsbDsKCgkJCUBPdmVycmlkZQoJCQlwdWJsaWMgdm9pZCBvbk5leHQoUmVhZFJvd3NSZXNwb25zZSByZWFkUm93c1Jlc3BvbnNlKSB7CgkJCQlzeW5jaHJvbml6ZWQgKHRoaXMpIHsKCQkJCQlmb3IgKENlbGxDaHVuayBjaHVuayA6IHJlYWRSb3dzUmVzcG9uc2UuZ2V0Q2h1bmtzTGlzdCgpKSB7CgkJCQkJCS8vIE5vdGUgLSBhIGNlbGwgY2FuIGdldCBkaXZ2aWVkIHVwIGludG8gdHdvIChvciBtYXliZSBtb3JlKSBjaHVua3MKCQkJCQkJLy8gSW4gdGhpcyBjYXNlLCB0aGUgdmFsdWUgaXMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGNodW5rcwoJCQkJCQkvLyBhbmQgcXVhbGlmaWVyL3JvdyBrZXkgYXJlIG9ubHkgc2V0IGZvciB0aGUgZmlyc3QgY2h1bmsKCQkJCQkJaWYgKGNodW5rLmhhc1F1YWxpZmllcigpKSB7CgkJCQkJCQl0cnkgewoJCQkJCQkJCWZsdXNoVmFsdWVTb0ZhcigpOwoJCQkJCQkJfQoJCQkJCQkJY2F0Y2ggKElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBlKSB7CgkJCQkJCQkJU3lzdGVtLmVyci5wcmludGxuKCJHb3QgcGFyc2UgZXJyb3IgZm9yICIgKyBjaHVuayArICIgLT4gIiArIHJvd0tleUZvclZhbHVlU29GYXIgKyAiLyIgKyBxdWFsaWZpZXJGb3JWYWx1ZVNvRmFyICsgIjoiICsgdmFsdWVTb0Zhci50b1N0cmluZ1V0ZjgoKSk7CgkJCQkJCQkJdGhyb3cgZTsKCQkJCQkJCX0KCQkJCQkJCXJvd0tleUZvclZhbHVlU29GYXIgPSBjaHVuay5nZXRSb3dLZXkoKS50b1N0cmluZ1V0ZjgoKTsKCQkJCQkJCXF1YWxpZmllckZvclZhbHVlU29GYXIgPSBjaHVuay5nZXRRdWFsaWZpZXIoKS5nZXRWYWx1ZSgpLnRvU3RyaW5nVXRmOCgpOwoJCQkJCQkJdmFsdWVTb0ZhciA9IGNodW5rLmdldFZhbHVlKCk7CgkJCQkJCX0KCQkJCQkJZWxzZSB7CgkJCQkJCQl2YWx1ZVNvRmFyID0gdmFsdWVTb0Zhci5jb25jYXQoY2h1bmsuZ2V0VmFsdWUoKSk7CgoJCQkJCQkJU3lzdGVtLm91dC5wcmludGxuKCJDb25jYXQgdmFsdWU6ICIgKyB2YWx1ZVNvRmFyLnRvU3RyaW5nVXRmOCgpKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJcHVibGljIHZvaWQgZmx1c2hWYWx1ZVNvRmFyKCkgewoJCQkJaWYgKHZhbHVlU29GYXIgIT0gbnVsbCkgewoJCQkJCXRyeSB7CgkJCQkJCW1lc3NhZ2VTZXQuYWRkKEZ1bGxNZXNzYWdlLnBhcnNlRnJvbShTbmFwcHkudW5jb21wcmVzcyh2YWx1ZVNvRmFyLnRvQnl0ZUFycmF5KCkpKSk7CgkJCQkJfQoJCQkJCWNhdGNoIChJT0V4Y2VwdGlvbiBlKSB7CgkJCQkJCWUucHJpbnRTdGFja1RyYWNlKCk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQlAT3ZlcnJpZGUKCQkJcHVibGljIHZvaWQgb25FcnJvcihUaHJvd2FibGUgdGhyb3dhYmxlKSB7CgkJCQl0aHJvd2FibGUucHJpbnRTdGFja1RyYWNlKCk7CgkJCQltZXNzYWdlU2V0Q2YuY29tcGxldGVFeGNlcHRpb25hbGx5KHRocm93YWJsZSk7CgkJCX0KCgkJCUBPdmVycmlkZQoJCQlwdWJsaWMgdm9pZCBvbkNvbXBsZXRlZCgpIHsKCQkJCWZsdXNoVmFsdWVTb0ZhcigpOwoJCQkJbWVzc2FnZVNldENmLmNvbXBsZXRlKG1lc3NhZ2VTZXQpOwoJCQl9CgkJfSk7CgkJcmV0dXJuIG1lc3NhZ2VTZXRDZjsKCX0KCglwdWJsaWMgU2V0PE1lc3NhZ2VJbmRleEluZm8+IGdldEluZGV4SW5mb3MoKSB7CgkJcmV0dXJuIHByb2Nlc3NlZEluZm9zOwoJfQoKCXB1YmxpYyBTZXQ8S2V5PEdtYWlsVGhyZWFkPj4gZ2V0R21haWxUaHJlYWRLZXlzKCkgewoJCXJldHVybiBwcm9jZXNzZWRHbWFpbFRocmVhZEtleXM7Cgl9CgoJcHVibGljIFNldDxGdWxsTWVzc2FnZT4gZ2V0RnVsbE1lc3NhZ2VzKCkgewoJCXJldHVybiBmdWxsTWVzc2FnZXM7Cgl9Cn0K</text>
      </register>
      <register name="2" type="2">
        <text encoding="base64">CQlUaHJlYWQuc2xlZXAoMjAwMCk7Cg==</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">CQlUaHJlYWQuc2xlZXAoMjAwMCk7Cg==</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">CQlTeXN0ZW0ub3V0LnByaW50bG4oIlRvcm4gRG93biIpOwo=</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">CQlTeXN0ZW0ub3V0LnByaW50bG4oIlRlYXIgRG93biIpOwo=</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">CQlTeXN0ZW0ub3V0LnByaW50bG4oIlJ1bm5pbmcgdGVzdFVuaWZpY2F0aW9uUnVsZXMiKTsK</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">CQlUaHJlYWQuc2xlZXAoMjAwMCk7Cg==</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">CQlTeXN0ZW0ub3V0LnByaW50bG4oIlJhbiB0ZXN0VW5pZmljYXRpb25SdWxlcyIpOwo=</text>
      </register>
      <register name=":" type="4">
        <text>w</text>
      </register>
    </registers>
    <search>
      <last-search>&quot;</last-search>
      <last-offset />
      <last-pattern>&quot;</last-pattern>
      <last-replace>guestVersion</last-replace>
      <last-substitute>bothVersion</last-substitute>
      <last-dir>1</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search>
        <entry>value</entry>
        <entry>?</entry>
        <entry>any</entry>
        <entry>email</entry>
        <entry>loginToken</entry>
        <entry>)</entry>
        <entry encoding="base64">XDx2aXNpYmlsaXR5XD4=</entry>
        <entry>message</entry>
        <entry>public</entry>
        <entry>Boolean</entry>
        <entry>String</entry>
        <entry>;</entry>
        <entry>X</entry>
        <entry>CreateTableR</entry>
        <entry>+</entry>
        <entry>,</entry>
        <entry>,,</entry>
        <entry>localUsers</entry>
        <entry>bothVersion</entry>
        <entry>&quot;</entry>
      </history-search>
      <history-cmd>
        <entry encoding="base64">JzwsJz5zL3B1YmxpYy8v</entry>
        <entry>s/Boolean//</entry>
        <entry encoding="base64">JzwsJz5zL0Jvb2xlYW4vLw==</entry>
        <entry encoding="base64">JzwsJz5zL1N0cmluZy8v</entry>
        <entry encoding="base64">JzwsJz5zLzsvOiAiIiw=</entry>
        <entry>s/X/mailboxEmail/g</entry>
        <entry>s/X/mailboxName/g</entry>
        <entry>s/X/isBcc/g</entry>
        <entry>s/X/isCc/g</entry>
        <entry>s/X/isDeliveredTo</entry>
        <entry>s/X/isFrom/g</entry>
        <entry>s/X/isTo/g</entry>
        <entry>s/X/mailboxDomain/g</entry>
        <entry encoding="base64">JzwsJz5zLysvLw==</entry>
        <entry>%s/,,/,/g</entry>
        <entry encoding="base64">JzwsJz5zL2xvY2FsVXNlcnMvdXNlcnM=</entry>
        <entry encoding="base64">JzwsJz5zL2JvdGhWZXJzaW9uL29uZVZlcnNpb24=</entry>
        <entry encoding="base64">JzwsJz5zL2JvdGhWZXJzaW9uL3R3b1ZlcnNpb24=</entry>
        <entry encoding="base64">JzwsJz5zL2JvdGhWZXJzaW9uL2d1ZXN0VmVyc2lvbg==</entry>
        <entry>w</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
    </shortcut-conflicts>
    <editor>
      <key-repeat enabled="true" />
    </editor>
  </component>
</application>